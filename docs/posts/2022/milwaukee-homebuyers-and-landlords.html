<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mike Gousha and John Johnson">
<meta name="dcterms.date" content="2022-11-10">

<title>In the competition for Milwaukee’s neighborhoods, out-of-state landlords remain a concern – John Johnson's Internet Archive</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-bde7cfe73309ee1b4eca639e0a08c217.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-31XDQG3G4L"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-31XDQG3G4L', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">John Johnson’s Internet Archive</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Table of Contents</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../external-links.html"> 
<span class="menu-text">External Links</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://bluebookmke.substack.com/"> 
<span class="menu-text">Blue Book Newsletter</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#after-a-decade-a-rebound-in-owner-occupancy" id="toc-after-a-decade-a-rebound-in-owner-occupancy" class="nav-link active" data-scroll-target="#after-a-decade-a-rebound-in-owner-occupancy">After a decade, a rebound in owner-occupancy</a></li>
  <li><a href="#i-wanted-to-be-in-this-neighborhood" id="toc-i-wanted-to-be-in-this-neighborhood" class="nav-link" data-scroll-target="#i-wanted-to-be-in-this-neighborhood">‘I wanted to be in this neighborhood’</a></li>
  <li><a href="#an-uptick-in-each-of-the-citys-aldermanic-districts" id="toc-an-uptick-in-each-of-the-citys-aldermanic-districts" class="nav-link" data-scroll-target="#an-uptick-in-each-of-the-citys-aldermanic-districts">An uptick in each of the city’s aldermanic districts</a></li>
  <li><a href="#a-key-cog-in-milwaukees-affordable-housing-plan" id="toc-a-key-cog-in-milwaukees-affordable-housing-plan" class="nav-link" data-scroll-target="#a-key-cog-in-milwaukees-affordable-housing-plan">A key cog in Milwaukee’s affordable housing plan</a></li>
  <li><a href="#a-persistent-racial-gap-in-mortgage-recipients" id="toc-a-persistent-racial-gap-in-mortgage-recipients" class="nav-link" data-scroll-target="#a-persistent-racial-gap-in-mortgage-recipients">A persistent racial gap in mortgage recipients</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">In the competition for Milwaukee’s neighborhoods, out-of-state landlords remain a concern</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mike Gousha and John Johnson </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 10, 2022</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><em>This article <a href="https://www.jsonline.com/story/news/solutions/2022/11/10/out-of-state-landlords-remain-a-concern-for-milwaukee-neighborhoods/69627460007/">originally appeared</a> in the Milwaukee Journal Sentinel.</em></p>
<p>This is a story about a growing competition for Milwaukee’s heart and soul: its neighborhoods. It’s a contest that pits working class residents against wealthy out-of-state investment firms in a race for the city’s most affordable houses. The Milwaukeeans’ dream of becoming homeowners, of putting down roots in their community. The investors also dream of buying homes in Milwaukee but for very different reasons. They are distant landlords, often with little or no connection to the city. They see Milwaukee as a lucrative rental market, a place to make money.</p>
<p>We first began writing about changes to Milwaukee’s housing market several years ago. In January of 2020, we noted a <a href="https://www.jsonline.com/story/news/solutions/2020/01/30/milwaukee-homeownership-falls-sharply-massive-wealth-transfer/4590413002/">troubling trend</a> in the city. From 2005 to 2018, owner-occupancy of homes fell sharply, from a modern day high of 80% to 68%.</p>
<p>Since then, Milwaukee has weathered a deadly pandemic and witnessed homicides and opioid deaths soar to record levels.</p>
<p>But beneath those disheartening headlines was some encouraging news. In the last few years, more local residents bought homes in the city. Not to rent to someone else, but to live in. A vote of confidence in Milwaukee’s future.</p>
<section id="after-a-decade-a-rebound-in-owner-occupancy" class="level2">
<h2 class="anchored" data-anchor-id="after-a-decade-a-rebound-in-owner-occupancy">After a decade, a rebound in owner-occupancy</h2>
<p>New research by Marquette Law School’s Lubar Center for Public Policy Research and Civic Education shows the city began rebounding from a dramatic decade-long decline in owner-occupancy.</p>
<p>The number of people living in the homes they own has been rising since 2018. There are 3,000 more owner-occupied houses in Milwaukee now than at the end of 2018. That includes single family houses, condominiums, duplexes, and triplexes. This wave of purchasing has caused owner-occupancy rates in the city to climb from 68% to 70%. A small increase, but significant, nonetheless.</p>
<p>“The trend, if it continues, is good news for city neighborhoods and for individuals who are looking to be owner occupants,” Mayor Cavalier Johnson said.</p>
<p>“There are tens of thousands of people who would like to become homeowners in the city. And with these new numbers, it looks as if local homeowners are incrementally regaining ground lost over the last two decades,” he said.</p>
<p>Still, our analysis also reveals the acceleration of a another, more concerning development. Out-of-state investors have continued their rapid acquisition of Milwaukee homes in recent years, even as purchases by local landlords have tapered off. Housing advocates and previous research find that the investors typically rent their properties for amounts well above what a homeowner would pay in monthly costs.</p>
<p>These out-of-state investors now own 7,170 single family homes, condos, duplexes or triplexes across the city, up from 5,250 at the end of 2018. This category of ownership has grown by 50% since 2017 and 476% since 2005.</p>
<p>Today, more than one in six Milwaukee rental homes is owned by a landlord based outside Wisconsin.</p>
<p>The outcome of the growing competition between working-class residents and out-of-state investment companies has long-term implications for Milwaukee, affecting the pool of affordable houses available in the city, housing costs, wealth creation, and neighborhood stability and social cohesion.</p>
<p>In short, the stakes are high, with hopeful homebuyers also facing new pressures from rising interest rates and an uncertain economic outlook.</p>
</section>
<section id="i-wanted-to-be-in-this-neighborhood" class="level2">
<h2 class="anchored" data-anchor-id="i-wanted-to-be-in-this-neighborhood">‘I wanted to be in this neighborhood’</h2>
<p>Forty-four-year-old Tommy Kirk is one of the 3,000 new homeowners in Milwaukee since 2018. In May, Kirk bought an $85,000 four-bedroom bungalow on 30th Street south of Hampton. Quiet and tree-lined, the block features homes that are still mostly owner-occupied.</p>
<p>“I wanted to be in this neighborhood,” Kirk told us during a recent visit to his home. “I’ve got roots in this neighborhood.”</p>
<p>Kirk had grown weary of his former two-bedroom apartment in what he called a “not so peaceful” area on the west side. With a wry smile, he said he had become “a landlord in training” because he had to do basic maintenance and repairs on the unit that his landlord refused to do.</p>
<p>Still, buying a home wasn’t easy.</p>
<p>“It was always a dream, but I had a bunch of hurdles,” he said.</p>
<p>For the last two years, Kirk has been center manager for the Repairers of the Breach shelter for homeless adults at 13th and Vliet. But sitting on the couch he had just purchased for his new home, Kirk talked candidly about the struggles in his early years, both legal and financial.</p>
<p>To qualify for home ownership, Kirk worked with the non-profit Acts Housing for two years, which helped him resolve his financial issues and prepare him for buying a home. He received assistance with a down payment from various grant sources, including his mortgage provider, Johnson Bank, and a state housing program. Financial assistance is often necessary because of the city’s racial wealth gap and housing rehab costs. It’s proven to be a good investment. Acts itself has made more than $5 million in mortgage loans since 2013. Only $30,000 of that total have been charge-offs, where repayment is questionable.</p>
<p>Today, Kirk is paying $720 a month for his mortgage, taxes, and insurance. Comparable homes will often rent for hundreds of dollars more. What seemed impossible decades ago is now a reality.</p>
<p>“I said to anybody and everybody, it’s possible for me and for anyone to set a goal,” Kirk told us.</p>
</section>
<section id="an-uptick-in-each-of-the-citys-aldermanic-districts" class="level2">
<h2 class="anchored" data-anchor-id="an-uptick-in-each-of-the-citys-aldermanic-districts">An uptick in each of the city’s aldermanic districts</h2>
<p>Tommy Kirk’s home purchase was one of 800 facilitated by Acts Housing in Milwaukee over the last four years. Our research suggests that its work and that of other non-profit organizations, the city of Milwaukee, and Milwaukee County are making a difference.</p>
<p>Owner-occupancy has increased in each of the city’s 15 aldermanic districts. The largest increase in the number of owner-occupied houses occurred in the 10th and 5th districts, on the far west and far northwest sides of the city. Compared to 2018, there are now 350 more owner-occupants in the 5th district. There are 280 additional owner-occupants in the 10th.</p>
<p>At the neighborhood level, 13 neighborhoods saw at least another 5% of their total housing stock become owner-occupied. They include Murray Hill and Riverside Park on the east side, Southgate on the south side, Martin Drive and Miller Valley on the near west side, Lenox Heights on the west side, and Florist Highlands on the far northwest side.</p>
<p>Homeownership grew the least on the near south side.</p>
<p>No neighborhood of at least 100 houses saw more than a 4% decline in owner occupancy. Only three neighborhoods saw a double-digit decrease in the number of owner-occupied parcels. The biggest was in Franklin Heights, the neighborhood surrounding the former A.O. Smith plant south of 27th and Capitol, where there were about 40 fewer owner-occupants.</p>
<p>But just as the number of owner-occupants has increased in the city, so has the number of purchases made by out-of-state real estate investment companies. Our analysis shows that the investors have almost exclusively targeted majority-Black neighborhoods, with the growth concentrated in a third of the city’s 15 aldermanic districts. All are on the north side.</p>
<p>In the 7th district, 1,100 houses are owned by an out-of-state landlord, an increase of 450 since 2018.</p>
<p>In the adjacent 1st district, 1,080 houses are owned by an out-of-state landlord, an increase of 440 since 2018.</p>
<p>Out-of-state landlords also own more than 700 homes in each of the 2nd, 15th, and 6th districts.</p>
<p>Across these five districts combined, more than 4,500 houses are now owned by out-of-state investors, a 62% increase since 2018.</p>
<p>Put another way, an additional 1,900 homes in majority Black neighborhoods are now owned by companies with business headquarters outside Wisconsin.</p>
<p>That trend simply hasn’t happened in majority white neighborhoods, where the number of houses owned by out-of-state landlords fell by nearly 100. Majority Hispanic neighborhoods have seen relatively little activity by these investors.</p>
<p>In neighborhoods like St.&nbsp;Joseph and Harambee, the pace of out-of-state investment and home ownership is closely matched. Out-of-state investors are in the lead in Sherman Park, Uptown, Silver Spring, and Old North Milwaukee. In contrast, homebuyers in Riverwest, Jackson Park, Bay View, and Washington Heights have faced relatively little competition from outside investors.</p>
<p>Three companies now account for 20% of all out-of-state owned rental properties. In 2018, they owned just 2%. Collectively, VineBrook Homes of Dayton, Ohio, Highgrove Holdings of Torrance, Calif., and SFR3 of Mill Valley, Calif., owned more than 1,400 houses as of mid-2022. They owned just 83 at the end of 2018.</p>
<p>All three of these private equity-backed companies were profiled in the spring of 2021 by the Lubar Center and Milwaukee Journal Sentinel. Since then, they’ve rapidly expanded their portfolios.</p>
<p>SFR3 and VineBrook largely purchase single family homes to be used as rentals. The typical value of the home is about $100,000. The most current available data shows VineBrook owns 908 homes in Milwaukee. SFR3 owns 255. Nearly all VineBrook and SFR3 properties are north of Capitol Drive and west of N. 35th Street.</p>
<p>Highgrove’s investments follow a different profile. It buys mostly duplexes with a median value of $50,000. The California firm now owns 279 properties in Milwaukee. Highgrove’s properties mostly fall within the near north side: south of Capitol, east of Sherman Boulevard, and west of Holton Street.</p>
<p>While encouraged by the increase in owner-occupancy in his city, Johnson is concerned about the growing number of properties now in the hands of out-of-state investors.</p>
<p>“Out-of-state investors are far less likely to care about a neighborhood,” the mayor said. “They are less likely to get involved in civic life.</p>
<p>“I want neighborhoods to have stability, and transient renters don’t offer the same stability that homeowners provide. When neighbors have a sense of permanence, when they know each other, and when they care about the neighborhood’s future, that makes the entire city stronger and safer,” Johnson said.</p>
<p>On their websites, the large out-of-state investors say that they are meeting an existing need for quality, affordable rental options and providing needed investment in aging houses. Some renters may not want to buy but still want to live in a single-family home or duplex. Others don’t have the money for a down payment.</p>
<p>But as our previous reporting suggests, investment in cities such as Milwaukee is also highly profitable. That attracts private investors, which allows the larger firms to mostly pay cash for their purchases. An increasing number are bulk purchases of multiple properties all at once.</p>
<p>As the Milwaukee housing market got hotter and hotter, housing prices continued to climb. Zillow’s Home Value index placed the typical Milwaukee home at $127,000 in June of 2019. It was $183,000 in June of 2022, an increase of 44% over three years.</p>
<p>Recent increases in housing prices have dramatically reduced the pool of low-priced houses in Milwaukee. In 2018, half of all houses were assessed below $100,000. Today, 30% are. The pool of homes worth less than $50,000 is almost gone.</p>
<p>In a housing market where cash, speed, and scale are king, residents of more modest means are at a distinct disadvantage.</p>
<p>“I like to think of them (out-of-state investors) as one of the new barriers to home ownership” Acts Housing senior vice president of real estate Dorothy York said.</p>
<p>Acts president and CEO Michael Gosman said the new market dynamics make the dream of purchasing a home less attainable.</p>
<p>“We have families that lost out to investors even when investors were paying less,” he said.</p>
</section>
<section id="a-key-cog-in-milwaukees-affordable-housing-plan" class="level2">
<h2 class="anchored" data-anchor-id="a-key-cog-in-milwaukees-affordable-housing-plan">A key cog in Milwaukee’s affordable housing plan</h2>
<p>To compete with the large out-of-state investment firms, the non-profit recently announced the creation of the Acts Homeowner Acquisition Fund. The ambitious $11 million program was formed with the support of the Community Development Alliance and is a key part of Milwaukee’s Collective Affordable Housing plan. To date, Acts has raised $3 million of its $11 million goal. It has grant requests pending with both the city and county.</p>
<p>Acts said the fund will allow it to create an expanded inventory of homes in the $90,000 to $140,000 range with monthly ownership costs of $900 to $1,200.</p>
<p>York will lead the effort to identify ownership opportunities. She said the fund will help level the playing field as the non-profit competes with out-of-state investors for available properties in the city.</p>
<p>“We can compete with them on their own terms,” York said.</p>
<p>The competition between local and out-of-state interests is producing an all-hands-on-deck approach in the city, with government, non-profits, businesses, and philanthropies working together to address affordable housing issues.</p>
<p>Community Development Alliance chief executive Teig Whaley-Smith said that nationally, there are at least two strategies used to mitigate what he calls “the negative impact of predatory acquisition of single-family homes and duplexes.”</p>
<p>The first is requiring that landlords offer properties to tenants before selling to other landlords. The second is using landlord licensing to discourage negligent landlords. But in 2017, the Wisconsin Legislature passed a law that prohibits the city from requiring landlord licensing.</p>
<p>The local efforts to reduce the impact of out-of-state investors also face another, newer obstacle. In the early 2010s, real estate investors commonly bought properties from distressed homeowners. In contrast, our latest research found that the new breed of private equity investors often acquires its properties from local and suburban landlords, whose numbers are now declining. Increasingly, these houses are sold in package deals and often for cash.</p>
<p>In 2022 alone, VineBrook has spent nearly $20 million buying 176 properties in 27 different bulk purchases, mostly from smaller, Wisconsin-based landlords. Some sales were large, like a 17-property $1.65 million deal with a Muskego-based landlord in May. Others were small, like a $194,000 purchase of two properties from a Milwaukee-based company in January. None required financing.</p>
<p>This kind of sale completely excludes hopeful homebuyers in the market, even though residents in these neighborhoods, most of them majority Black, could often afford the houses if they were priced individually.</p>
</section>
<section id="a-persistent-racial-gap-in-mortgage-recipients" class="level2">
<h2 class="anchored" data-anchor-id="a-persistent-racial-gap-in-mortgage-recipients">A persistent racial gap in mortgage recipients</h2>
<p>The dynamics of the market contribute to an enormous racial gap between mortgage recipients in Milwaukee. Although the white and Black adult populations of the city are roughly equal, our research found that white mortgage recipients outnumbered Black mortgage recipients by a two-to-one margin. Still, that was progress from 2018, when the gap between white and Black recipients was more than three-and-a-half to one.</p>
<p>Whaley-Smith said it’s important for the city to look at what’s happening through a racial equity lens. He said it’s no surprise that families are choosing Milwaukee to buy a home but said the owner-occupancy growth is still unequal.</p>
<p>“Increased white home ownership is driving the overall growth, and although there have been hundreds of new homeowners of color, this growth has been wiped out by the predatory acquisition that is taking single family homes and duplexes off the market,” Whaley-Smith said.</p>
<p>Johnson echoed that concern.</p>
<p>“Homeownership is key to building generational wealth in this country, and I don’t want any Milwaukeean’s potential to build a better life for themselves and their family to be limited because of how hard it can be to buy a house when they’re ready for homeownership,” he said.</p>
<p>As interest rates rise, the impact on the struggle for Milwaukee’s heart and soul − its neighborhoods − is unclear. Historically low mortgage interest rates played a role in increased owner occupancy. Those rates are now less attractive for a working-class buyer. The private equity firms can pay in cash. Will that tip the balance in some neighborhoods, where both trends have been playing out?</p>
<p>What is clear is that the competition between local buyers and out-of-state investors is real, urgent, and far from over. In the last 19 months, two of the houses on the block where Tommy Kirk now lives were purchased by an out-of-state investor.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("^(?:http:|https:)\/\/www\.quarto\.org\/custom");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>